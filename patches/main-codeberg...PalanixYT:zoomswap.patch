From 58d33b79f90f7060d6d338d2abf345f16b88dd47 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Leonardo=20Hern=C3=A1ndez=20Hern=C3=A1ndez?=
 <leohdz172@proton.me>
Date: Sat, 25 Nov 2023 01:37:14 -0600
Subject: [PATCH 1/2] add notice aboud Codeberg migration

---
 .github/ISSUE_TEMPLATE/bug_report.md       | 12 ++++--------
 .github/ISSUE_TEMPLATE/enhancement-idea.md |  3 +++
 README.md                                  |  5 +++++
 3 files changed, 12 insertions(+), 8 deletions(-)

diff --git a/.github/ISSUE_TEMPLATE/bug_report.md b/.github/ISSUE_TEMPLATE/bug_report.md
index cd9bd8dcf..e6278d859 100644
--- a/.github/ISSUE_TEMPLATE/bug_report.md
+++ b/.github/ISSUE_TEMPLATE/bug_report.md
@@ -7,11 +7,7 @@ assignees: ''
 
 ---
 
-## Info
-dwl version:
-wlroots version:
-## Description
-<!--
-Only report bugs that can be reproduced on the main line
-Report patch issues to their respective authors
--->
+### ⚠️ Migrated to Codeberg
+
+This project has [migrated to Codeberg](https://codeberg.org/dwl/dwl).
+
diff --git a/.github/ISSUE_TEMPLATE/enhancement-idea.md b/.github/ISSUE_TEMPLATE/enhancement-idea.md
index 0ac096db3..cbfd90f2d 100644
--- a/.github/ISSUE_TEMPLATE/enhancement-idea.md
+++ b/.github/ISSUE_TEMPLATE/enhancement-idea.md
@@ -7,4 +7,7 @@ assignees: ''
 
 ---
 
+### ⚠️ Migrated to Codeberg
+
+This project has [migrated to Codeberg](https://codeberg.org/dwl/dwl).
 
diff --git a/README.md b/README.md
index 62ae87282..e02c9c449 100644
--- a/README.md
+++ b/README.md
@@ -1,5 +1,10 @@
 # dwl - dwm for Wayland
 
+> ### ⚠️ Migrated to Codeberg
+>
+> This project has [migrated to Codeberg](https://codeberg.org/dwl/dwl).
+
+
 Join us on our IRC channel: [#dwl on Libera Chat]  
 Or on our [Discord server].
 

From 32c3c2442c160623574aa24675941566fa1f23b3 Mon Sep 17 00:00:00 2001
From: Palanix <palanixyt@gmail.com>
Date: Fri, 28 Jul 2023 02:14:32 +0200
Subject: [PATCH 2/2] Implement zoomswap

---
 dwl.c | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/dwl.c b/dwl.c
index ef27a1d38..bee4ab196 100644
--- a/dwl.c
+++ b/dwl.c
@@ -197,6 +197,7 @@ struct Monitor {
 	int gamma_lut_changed;
 	int nmaster;
 	char ltsymbol[16];
+	Client *prevc;
 };
 
 typedef struct {
@@ -874,6 +875,7 @@ createmon(struct wl_listener *listener, void *data)
 	size_t i;
 	Monitor *m = wlr_output->data = ecalloc(1, sizeof(*m));
 	m->wlr_output = wlr_output;
+	m->prevc = NULL;
 
 	wlr_output_init_render(wlr_output, alloc, drw);
 
@@ -2717,7 +2719,7 @@ xytonode(double x, double y, struct wlr_surface **psurface,
 void
 zoom(const Arg *arg)
 {
-	Client *c, *sel = focustop(selmon);
+	Client *c, *sel = focustop(selmon), *tmp = sel;
 
 	if (!sel || !selmon || !selmon->lt[selmon->sellt]->arrange || sel->isfloating)
 		return;
@@ -2738,9 +2740,12 @@ zoom(const Arg *arg)
 	/* If we passed sel, move c to the front; otherwise, move sel to the
 	 * front */
 	if (!sel)
-		sel = c;
+		sel = selmon->prevc ? selmon->prevc : c, c = tmp;
+	wl_list_remove(&c->link);
+	wl_list_insert(&sel->link, &c->link);
 	wl_list_remove(&sel->link);
 	wl_list_insert(&clients, &sel->link);
+	selmon->prevc = c;
 
 	focusclient(sel, 1);
 	arrange(selmon);
