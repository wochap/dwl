From 28dcf7918149c75dbb56aeb406267983fb93d8c6 Mon Sep 17 00:00:00 2001
From: Nikita Ivanov <nikita.vyach.ivanov@gmail.com>
Date: Fri, 26 May 2023 22:20:28 +0200
Subject: [PATCH] Add issticky rule

---
 config.def.h | 6 +++---
 dwl.c        | 2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/config.def.h b/config.def.h
index 120c27aa1..f448abb7e 100644
--- a/config.def.h
+++ b/config.def.h
@@ -12,11 +12,11 @@ static const float fullscreen_bg[]         = {0.1, 0.1, 0.1, 1.0};
 static const char *tags[] = { "1", "2", "3", "4", "5", "6", "7", "8", "9" };
 
 static const Rule rules[] = {
-	/* app_id     title       tags mask     isfloating   monitor */
+	/* app_id     title       tags mask     isfloating   issticky  monitor */
 	/* examples:
-	{ "Gimp",     NULL,       0,            1,           -1 },
+	{ "Gimp",     NULL,       0,            1,           0,        -1 },
 	*/
-	{ "firefox",  NULL,       1 << 8,       0,           -1 },
+	{ "firefox",  NULL,       1 << 8,       0,           0,        -1 },
 };
 
 /* layout(s) */
diff --git a/dwl.c b/dwl.c
index ec8c4282d..c8e4ce510 100644
--- a/dwl.c
+++ b/dwl.c
@@ -201,6 +201,7 @@ typedef struct {
 	const char *title;
 	unsigned int tags;
 	int isfloating;
+	int issticky;
 	int monitor;
 } Rule;
 
@@ -454,6 +455,7 @@ applyrules(Client *c)
 		if ((!r->title || strstr(title, r->title))
 				&& (!r->id || strstr(appid, r->id))) {
 			c->isfloating = r->isfloating;
+			c->issticky   = r->issticky;
 			newtags |= r->tags;
 			i = 0;
 			wl_list_for_each(m, &mons, link)
